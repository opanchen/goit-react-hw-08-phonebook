"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[295],{8295:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var a=n(2791),r=n(9434),s=n(3634),c=n(6916),o=function(e){return e.contacts.items},i=function(e){return e.contacts.isLoading},l=function(e){return e.contacts.error},d=function(e){return e.filter},u=(0,c.P1)([o,d],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),m=n(9439),_=n(5984),h=n(8174),b="ContactForm_contact-form__1+2ej",x="ContactForm_buttons-bar__F9FuH",v="ContactForm_disabled__XBn+S",f=n(3672),p=n(3329),j=function(){var e=(0,a.useState)(""),t=(0,m.Z)(e,2),n=t[0],c=t[1],i=(0,a.useState)(""),l=(0,m.Z)(i,2),d=l[0],u=l[1],j=(0,r.I0)(),C=(0,r.v9)(o),N=(0,_.x0)(),w=(0,_.x0)(),g=function(e){var t=e.currentTarget,a=t.name,r=t.value;switch(a){case"name":c(r);break;case"number":u(r);break;default:return void console.log("Error: there isn't ".concat(n," input for value ").concat(r,". Check form markup."))}},y=function(){c(""),u("")};return(0,p.jsxs)("form",{className:b,autoComplete:"off",onSubmit:function(e){var t;(e.preventDefault(),t=n,C.some((function(e){return e.name.toLowerCase()===t.toLowerCase()})))?h.Am.error("".concat(n," is already in contacts.")):(j((0,s.uK)({name:n,number:d})),y())},children:[(0,p.jsxs)("label",{htmlFor:N,children:["Name",(0,p.jsx)("input",{type:"text",name:"name",id:N,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:g,value:n})]}),(0,p.jsxs)("label",{htmlFor:w,children:["Number",(0,p.jsx)("input",{type:"tel",name:"number",id:w,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:g,value:d})]}),(0,p.jsxs)("div",{className:x,children:[(0,p.jsx)("button",{type:"submit",children:"Add contact"}),(0,p.jsxs)("button",{type:"button",onClick:y,disabled:!n&&!d,className:n||d?void 0:v,children:["Clear",(0,p.jsx)(f.Rk,{size:24})]})]})]})},C=n(4164),N="Modal_overlay__r63M6",w="Modal_modal__DJDMv",g="Modal_btn-close__wlubt",y=document.querySelector("#modal-root"),k=function(e){var t=e.onClose,n=e.children;(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return(0,C.createPortal)((0,p.jsx)("div",{className:N,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,p.jsxs)("div",{className:w,children:[n,(0,p.jsx)("button",{type:"button",onClick:function(){return t()},className:g,children:(0,p.jsx)(f.Tw,{size:24})})]})}),y)},F=n(6382),L="EditContactForm_wrapper__bVmYu",E="EditContactForm_avatar__xR-Z7",I="EditContactForm_contact-form__YHbFG",z="EditContactForm_form-title__iFOas",A="EditContactForm_buttons-bar__A2E3H",Z="EditContactForm_disabled__N+J+O",M=function(e){var t=e.id,n=e.prevName,c=e.prevNumber,i=e.closeModal,l=e.avatar,d=(0,a.useState)(n),u=(0,m.Z)(d,2),_=u[0],b=u[1],x=(0,a.useState)(c),v=(0,m.Z)(x,2),j=v[0],C=v[1],N=(0,r.I0)(),w=(0,r.v9)(o),g=(0,F.nanoid)(),y=(0,F.nanoid)(),k=function(e){var t=e.currentTarget,n=t.name,a=t.value;switch(n){case"name":b(a);break;case"number":C(a);break;default:return void console.log("Error: there isn't ".concat(_," input for value ").concat(a,". Check form markup."))}},M=function(){b(""),C("")};return(0,p.jsxs)("div",{className:L,children:[(0,p.jsx)("img",{src:l,className:E,alt:"contact's avatar",width:80}),(0,p.jsxs)("form",{className:I,autoComplete:"off",onSubmit:function(e){var n;(e.preventDefault(),n=_,w.filter((function(e){return e.id!==t})).some((function(e){return e.name.toLowerCase()===n.toLowerCase()})))?h.Am.error("".concat(_," is already in contacts.")):(N((0,s.mP)({id:t,name:_,number:j})),M(),i())},children:[(0,p.jsx)("p",{className:z,children:"Edit contact:"}),(0,p.jsxs)("label",{htmlFor:g,children:["Name",(0,p.jsx)("input",{type:"text",name:"name",id:g,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:k,value:_})]}),(0,p.jsxs)("label",{htmlFor:y,children:["Number",(0,p.jsx)("input",{type:"tel",name:"number",id:y,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:k,value:j})]}),(0,p.jsxs)("div",{className:A,children:[(0,p.jsx)("button",{type:"submit",children:"Save"}),(0,p.jsxs)("button",{type:"button",onClick:M,disabled:!_&&!j,className:_||j?void 0:Z,children:["Clear",(0,p.jsx)(f.Rk,{size:24})]})]})]})]})},S=n(9231),D={"contact-item":"ContactListItem_contact-item__o0gon",avatar:"ContactListItem_avatar__cNInG","contact-text":"ContactListItem_contact-text__lM+Pf","contact-name":"ContactListItem_contact-name__cpENy","buttons-bar":"ContactListItem_buttons-bar__kW+0p","delete-btn":"ContactListItem_delete-btn__GM9hb","edit-btn":"ContactListItem_edit-btn__jIf12","btn-label":"ContactListItem_btn-label__SDiMJ",disabled:"ContactListItem_disabled__RIGiL"},P=function(e){var t=e.id,n=e.name,c=e.number,o=(0,a.useState)(!1),i=(0,m.Z)(o,2),l=i[0],d=i[1],u=(0,r.I0)(),_=function(){d((function(e){return!e}))},h=S.u.getImgById(t);return(0,p.jsxs)("li",{className:D["contact-item"],children:[(0,p.jsx)("img",{src:h,className:D.avatar,alt:"random animal",width:48}),(0,p.jsxs)("p",{className:D["contact-text"],children:[(0,p.jsxs)("span",{className:D["contact-name"],children:[n,":"]})," ",c]}),(0,p.jsxs)("div",{className:D["buttons-bar"],children:[(0,p.jsxs)("button",{type:"button",className:D["edit-btn"],onClick:_,children:[(0,p.jsx)("span",{className:D["btn-label"],children:"Edit"}),(0,p.jsx)(f.dY,{size:24,className:D["icon-edit"]})]}),(0,p.jsxs)("button",{className:D["delete-btn"],type:"button",onClick:function(){return function(e){u((0,s.GK)(e))}(t)},children:[(0,p.jsx)("span",{className:D["btn-label"],children:"Delete"}),(0,p.jsx)(f.pJ,{size:24,className:D["icon-del"]})]})]}),l&&(0,p.jsx)(k,{onClose:_,children:(0,p.jsx)(M,{id:t,prevName:n,prevNumber:c,closeModal:_,avatar:h})})]})},q="ContactList_contact-list__GnW-D",J=function(){var e=(0,r.v9)(u);return(0,p.jsx)("ul",{className:q,children:e.map((function(e){var t=e.name,n=e.number,a=e.id;return(0,p.jsx)(P,{id:a,name:t,number:n},a)}))})},R=n(4808),G="Filter_filter__vxThR",T=function(){var e=(0,r.I0)(),t=(0,r.v9)(d);return(0,p.jsxs)("label",{className:G,children:["Find contact by name",(0,p.jsx)("input",{type:"text",value:t,onChange:function(t){e((0,R.V)(t.currentTarget.value))}})]})},B=n(828),Y="Loader_loader__+lRPl",H="Loader_loader-text__DZQo8",W="Loader_icon-spin__CrunX",$=function(){return(0,p.jsxs)("div",{className:Y,children:[(0,p.jsx)(B.Nbw,{size:16,className:W}),(0,p.jsx)("span",{className:H,children:"Loading..."})]})},K=n(6856),O={error:"Error_error__9uczQ",icon:"Error_icon__qD3vi",title:"Error_title__WNFwj"},Q=function(e){var t=e.message;return(0,p.jsxs)("div",{className:O.error,children:[(0,p.jsx)(K.wr$,{size:32,className:O.icon}),(0,p.jsxs)("div",{className:O.text,children:[(0,p.jsx)("p",{className:O.title,children:t}),(0,p.jsx)("p",{className:O.subtitle,children:"Something went wrong... Please try again later."})]})]})},V=n(4270),X="Contacts_wrapper__s7EJR",U="Contacts_inner__4sMNZ",ee=function(){var e=(0,r.I0)(),t=(0,r.v9)(i),n=(0,r.v9)(l);return(0,a.useEffect)((function(){e((0,s.yF)())}),[e]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(V.q,{children:(0,p.jsx)("title",{children:"Your contacts"})}),(0,p.jsxs)("div",{className:X,children:[(0,p.jsx)("h1",{className:"visually-hidden",children:"Phonebook"}),(0,p.jsxs)("div",{className:U,children:[(0,p.jsx)("h2",{children:"Add new contact"}),(0,p.jsx)(j,{})]}),(0,p.jsxs)("div",{className:U,children:[(0,p.jsx)("h2",{children:"Contacts"}),(0,p.jsx)(T,{}),n&&(0,p.jsx)(Q,{message:n}),t&&!n&&(0,p.jsx)($,{}),(0,p.jsx)(J,{})]})]})]})}}}]);
//# sourceMappingURL=295.b47efb18.chunk.js.map